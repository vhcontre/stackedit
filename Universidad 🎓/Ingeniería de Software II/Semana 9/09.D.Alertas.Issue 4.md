> **Crear navegaciÃ³n entre vistas web**

---

### ğŸ¯ Objetivo del Issue

Agregar una navegaciÃ³n bÃ¡sica entre secciones del sistema web. Esto mejora la experiencia del usuario y prepara el terreno para futuras funcionalidades (como formularios o reportes mÃ¡s complejos).

---

### âœ… Cambios que vas a implementar

1. **Agregar enlaces visibles** entre las principales vistas del sistema:

   * ğŸ  Home (si tenÃ©s uno, o podÃ©s definir productos como â€œhomeâ€)
   * ğŸ“¦ Productos
   * ğŸ”„ Movimientos
   * ğŸ“¥ Exportar CSV (opcional)

2. **Modificar el archivo `base.html`** para que estos links estÃ©n disponibles en todas las pÃ¡ginas.

---

### ğŸ“ Â¿DÃ³nde modificar?

#### `templates/base.html` (o crearlo si aÃºn no existe)

AgregÃ¡ un bloque de navegaciÃ³n simple:

```html
<nav>
  <ul style="list-style: none; display: flex; gap: 1rem;">
    <li><a href="/web/productos">ğŸ“¦ Productos</a></li>
    <li><a href="/web/movimientos/form">â• Nuevo Movimiento</a></li>
    <li><a href="/web/movimientos/exportar-csv">â¬‡ï¸ Exportar CSV</a></li>
  </ul>
</nav>
<hr>
```

Asegurate de que tu archivo `productos.html`, `movimiento_form.html`, etc., tengan `{% extends "base.html" %}`.

---

### ğŸ§ª VerificaciÃ³n

1. LevantÃ¡ el servidor con `uvicorn`.
2. EntrÃ¡ a `/web/productos` y desde ahÃ­ deberÃ­as poder navegar entre secciones.
3. ProbÃ¡ cada enlace.
4. VerificÃ¡ que se mantenga la estÃ©tica y que no rompa la estructura.

---

### âœ… Commit sugerido

```bash
git add .
git commit -m "feat: agregar navegaciÃ³n entre vistas principales del sistema

- Se aÃ±adiÃ³ menÃº de navegaciÃ³n en base.html
- Enlaces a productos, movimientos y exportador CSV
- Mejora la usabilidad para el usuario final

Closes #27"
```

## ğŸ§ª Â¿QuÃ© es Selenium?

**Selenium** es una herramienta que permite **automatizar la interacciÃ³n con navegadores web** como si fueras un usuario real.

> ğŸŒ En vez de hacer un `POST` a una URL como en `TestClient`, Selenium puede *abrir el navegador*, escribir en formularios, hacer clic en botones, y validar lo que aparece en pantalla.

---

## ğŸ§° Â¿Para quÃ© sirve?

| Uso                              | Â¿QuÃ© permite hacer?                                                                 |
| -------------------------------- | ----------------------------------------------------------------------------------- |
| âœ… Pruebas de formularios web     | Verifica que el formulario funciona y muestra errores si algo falla.                |
| âœ… Validar interfaz y navegaciÃ³n  | Asegura que los links entre secciones funcionan y se muestra el contenido esperado. |
| âœ… Probar flujos reales de uso    | Por ejemplo: alta de movimiento â†’ redirecciÃ³n â†’ ver stock actualizado.              |
| âœ… Validar HTML generado (Jinja2) | Permite verificar que el contenido renderizado con Jinja2 aparece correctamente.    |

---

## ğŸ‘¨â€ğŸ« Â¿Por quÃ© te puede servir en IngenierÃ­a de Software II?

* **Los estudiantes ven el sistema como lo ve el usuario**, no solo desde cÃ³digo.
* Se pueden detectar errores de integraciÃ³n entre backend y frontend (por ejemplo, si falla un `input` o no aparece un `error`).
* Permite mostrar prÃ¡cticas de pruebas reales en proyectos profesionales.

---

## ğŸ§ª Ejemplo de prueba bÃ¡sica con Selenium (con Chrome)

Supongamos que querÃ©s testear el formulario de movimientos:

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time

# Iniciar navegador
driver = webdriver.Chrome()

# 1. Ir al formulario
driver.get("http://localhost:8000/web/movimientos/nuevo")

# 2. Llenar formulario
driver.find_element(By.NAME, "producto_id").send_keys("1")
driver.find_element(By.NAME, "usuario_id").send_keys("1")
driver.find_element(By.NAME, "tipo").send_keys("ingreso")
driver.find_element(By.NAME, "cantidad").send_keys("10")
driver.find_element(By.NAME, "deposito_destino_id").send_keys("1")

# 3. Enviar formulario
driver.find_element(By.TAG_NAME, "form").submit()

# 4. Esperar y verificar que fue redirigido
time.sleep(1)
assert "Productos" in driver.page_source

# 5. Cerrar
driver.quit()
```

---

## ğŸ§© Â¿QuÃ© necesitÃ¡s instalar?

```bash
pip install selenium
```

Y tener un navegador (como Chrome) y su [WebDriver](https://chromedriver.chromium.org/downloads).

---

## ğŸš¦Â¿Vale la pena?

| Escenario                         | Â¿Selenium es Ãºtil?                   |
| --------------------------------- | ------------------------------------ |
| Solo backend / API                | âŒ No es necesario (TestClient basta) |
| Sistema con formularios web       | âœ… Muy Ãºtil (simula usuario real)     |
| Proyecto educativo con vistas     | âœ… Mejora la comprensiÃ³n visual       |
| Validar que Jinja2 renderiza bien | âœ… Totalmente recomendado             |



### âœ… Commit sugerido

```bash
git add .
git commit -m "feat: agregar pruebas con Selenium

Closes #28"
```

Perfecto, vamos a resolver eso. Cuando un **pull request falla en GitHub Actions**, y vos ya corregiste el error (por ejemplo, hiciste un nuevo commit que lo soluciona), **la acciÃ³n se vuelve a ejecutar automÃ¡ticamente con ese nuevo commit**. Pero si **no hiciste un nuevo commit** aÃºn y solo querÃ©s *reintentar el workflow que fallÃ³*, hay dos caminos:

---

## âœ… OpciÃ³n 1: HacÃ© un nuevo commit (aunque sea vacÃ­o)

Esto **fuerza que se dispare nuevamente el workflow** sin tener que tocar nada mÃ¡s:

```bash
git commit --allow-empty -m "chore: retrigger GitHub Actions"
git push origin <nombre-de-la-rama>
```

Eso harÃ¡ que GitHub Actions se dispare otra vez para el pull request ya abierto.

---

## ğŸ” OpciÃ³n 2: Re-ejecutar manualmente desde GitHub

1. AndÃ¡ al pull request en GitHub.
2. HacÃ© clic en la pestaÃ±a **"Checks"** o andÃ¡ al menÃº lateral de **GitHub Actions**.
3. BuscÃ¡ el workflow fallido (por ejemplo, `CI` o `pytest`).
4. HacÃ© clic en el botÃ³n **"Re-run jobs"** (o â€œRe-run all jobsâ€).

ğŸ‘‰ Este botÃ³n solo aparece si tenÃ©s permisos de escritura en el repo.



<!--stackedit_data:
eyJoaXN0b3J5IjpbLTc2Mjc0NTY4MCwxMTkxMjI4OTc2XX0=
-->